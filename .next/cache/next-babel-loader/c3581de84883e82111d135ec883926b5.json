{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/cliffordcrerar/letsplay/_10_next-ts-start/pages/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nimport { withRouter } from 'next/router';\nimport _range from 'lodash.range';\nimport Link from 'next/link';\nimport pagination from 'pagination';\nimport Layout from '../components/layouts/default';\nimport Post from '../components/blog-index-item';\nimport blogposts from '../posts/index';\nimport { siteMeta } from '../blog.config';\n\nvar Blog = function Blog(_ref) {\n  var router = _ref.router,\n      _ref$page = _ref.page,\n      page = _ref$page === void 0 ? 1 : _ref$page;\n  var paginator = new pagination.SearchPaginator({\n    prelink: '/',\n    current: page,\n    rowsPerPage: siteMeta.postsPerPage,\n    totalResult: blogposts.length\n  });\n\n  var _paginator$getPaginat = paginator.getPaginationData(),\n      previous = _paginator$getPaginat.previous,\n      range = _paginator$getPaginat.range,\n      next = _paginator$getPaginat.next,\n      fromResult = _paginator$getPaginat.fromResult,\n      toResult = _paginator$getPaginat.toResult;\n\n  var results = _range(fromResult - 1, toResult);\n\n  return React.createElement(Layout, {\n    pageTitle: \"Blog\",\n    path: router.pathname,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    className: \"jsx-451903632\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"jsx-451903632\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Blog\")), blogposts.filter(function (_post, index) {\n    return results.indexOf(index) > -1;\n  }).map(function (post, index) {\n    return React.createElement(Post, {\n      key: index,\n      title: post.title,\n      summary: post.summary,\n      date: post.publishedAt,\n      path: post.path,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    });\n  }), React.createElement(\"ul\", {\n    className: \"jsx-451903632\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, previous && React.createElement(\"li\", {\n    className: \"jsx-451903632\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(Link, {\n    href: \"/blog?page=\".concat(previous),\n    as: \"/blog/\".concat(previous),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"jsx-451903632\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Previous\"))), range.map(function (page, index) {\n    return React.createElement(\"li\", {\n      key: index,\n      className: \"jsx-451903632\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Link, {\n      key: index,\n      href: \"/blog?page=\".concat(page),\n      as: \"/blog/\".concat(page),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"jsx-451903632\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, page)));\n  }), next && React.createElement(\"li\", {\n    className: \"jsx-451903632\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Link, {\n    href: \"/blog?page=\".concat(next),\n    as: \"/blog/\".concat(next),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"jsx-451903632\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Next\")))), React.createElement(_JSXStyle, {\n    id: \"451903632\",\n    __self: this\n  }, \"header.jsx-451903632{margin-bottom:3em;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jbGlmZm9yZGNyZXJhci9sZXRzcGxheS9fMTBfbmV4dC10cy1zdGFydC9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFtRWtCLEFBRzZCLGtCQUNwQiIsImZpbGUiOiIvVXNlcnMvY2xpZmZvcmRjcmVyYXIvbGV0c3BsYXkvXzEwX25leHQtdHMtc3RhcnQvcGFnZXMvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3aXRoUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInXG5pbXBvcnQgX3JhbmdlIGZyb20gJ2xvZGFzaC5yYW5nZSdcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluaydcbmltcG9ydCBwYWdpbmF0aW9uIGZyb20gJ3BhZ2luYXRpb24nXG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvbGF5b3V0cy9kZWZhdWx0J1xuaW1wb3J0IFBvc3QgZnJvbSAnLi4vY29tcG9uZW50cy9ibG9nLWluZGV4LWl0ZW0nXG5pbXBvcnQgYmxvZ3Bvc3RzIGZyb20gJy4uL3Bvc3RzL2luZGV4J1xuaW1wb3J0IHsgc2l0ZU1ldGEgfSBmcm9tICcuLi9ibG9nLmNvbmZpZydcblxuY29uc3QgQmxvZyA9ICh7IHJvdXRlciwgcGFnZSA9IDEgfSkgPT4ge1xuICBjb25zdCBwYWdpbmF0b3IgPSBuZXcgcGFnaW5hdGlvbi5TZWFyY2hQYWdpbmF0b3Ioe1xuICAgIHByZWxpbms6ICcvJyxcbiAgICBjdXJyZW50OiBwYWdlLFxuICAgIHJvd3NQZXJQYWdlOiBzaXRlTWV0YS5wb3N0c1BlclBhZ2UsXG4gICAgdG90YWxSZXN1bHQ6IGJsb2dwb3N0cy5sZW5ndGhcbiAgfSlcblxuICBjb25zdCB7XG4gICAgcHJldmlvdXMsXG4gICAgcmFuZ2UsXG4gICAgbmV4dCxcbiAgICBmcm9tUmVzdWx0LFxuICAgIHRvUmVzdWx0XG4gIH0gPSBwYWdpbmF0b3IuZ2V0UGFnaW5hdGlvbkRhdGEoKVxuICBjb25zdCByZXN1bHRzID0gX3JhbmdlKGZyb21SZXN1bHQgLSAxLCB0b1Jlc3VsdClcblxuICByZXR1cm4gKFxuICAgIDxMYXlvdXQgcGFnZVRpdGxlPSdCbG9nJyBwYXRoPXtyb3V0ZXIucGF0aG5hbWV9PlxuICAgICAgPGhlYWRlcj5cbiAgICAgICAgPGgxPkJsb2c8L2gxPlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIHtibG9ncG9zdHNcbiAgICAgICAgLmZpbHRlcigoX3Bvc3QsIGluZGV4KSA9PiByZXN1bHRzLmluZGV4T2YoaW5kZXgpID4gLTEpXG4gICAgICAgIC5tYXAoKHBvc3QsIGluZGV4KSA9PiAoXG4gICAgICAgICAgPFBvc3RcbiAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICB0aXRsZT17cG9zdC50aXRsZX1cbiAgICAgICAgICAgIHN1bW1hcnk9e3Bvc3Quc3VtbWFyeX1cbiAgICAgICAgICAgIGRhdGU9e3Bvc3QucHVibGlzaGVkQXR9XG4gICAgICAgICAgICBwYXRoPXtwb3N0LnBhdGh9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG5cbiAgICAgIDx1bD5cbiAgICAgICAge3ByZXZpb3VzICYmIChcbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8TGluayBocmVmPXtgL2Jsb2c/cGFnZT0ke3ByZXZpb3VzfWB9IGFzPXtgL2Jsb2cvJHtwcmV2aW91c31gfT5cbiAgICAgICAgICAgICAgPGE+UHJldmlvdXM8L2E+XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgKX1cbiAgICAgICAge3JhbmdlLm1hcCgocGFnZSwgaW5kZXgpID0+IChcbiAgICAgICAgICA8bGkga2V5PXtpbmRleH0+XG4gICAgICAgICAgICA8TGluayBrZXk9e2luZGV4fSBocmVmPXtgL2Jsb2c/cGFnZT0ke3BhZ2V9YH0gYXM9e2AvYmxvZy8ke3BhZ2V9YH0+XG4gICAgICAgICAgICAgIDxhPntwYWdlfTwvYT5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApKX1cbiAgICAgICAge25leHQgJiYgKFxuICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvYmxvZz9wYWdlPSR7bmV4dH1gfSBhcz17YC9ibG9nLyR7bmV4dH1gfT5cbiAgICAgICAgICAgICAgPGE+TmV4dDwvYT5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApfVxuICAgICAgPC91bD5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgaGVhZGVyIHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzZW07XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L0xheW91dD5cbiAgKVxufVxuXG5CbG9nLmdldEluaXRpYWxQcm9wcyA9IGFzeW5jICh7IHF1ZXJ5IH0pID0+IHtcbiAgcmV0dXJuIHF1ZXJ5ID8geyBwYWdlOiBxdWVyeS5wYWdlIH0gOiB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoUm91dGVyKEJsb2cpXG4iXX0= */\\n/*@ sourceURL=/Users/cliffordcrerar/letsplay/_10_next-ts-start/pages/index.js */\"));\n};\n\nBlog.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref2) {\n    var query;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref2.query;\n            return _context.abrupt(\"return\", query ? {\n              page: query.page\n            } : {});\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default withRouter(Blog);","map":{"version":3,"sources":["/Users/cliffordcrerar/letsplay/_10_next-ts-start/pages/index.js"],"names":["withRouter","_range","Link","pagination","Layout","Post","blogposts","siteMeta","Blog","router","page","paginator","SearchPaginator","prelink","current","rowsPerPage","postsPerPage","totalResult","length","getPaginationData","previous","range","next","fromResult","toResult","results","pathname","filter","_post","index","indexOf","map","post","title","summary","publishedAt","path","getInitialProps","query"],"mappings":"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","sourcesContent":["import { withRouter } from 'next/router'\nimport _range from 'lodash.range'\nimport Link from 'next/link'\nimport pagination from 'pagination'\nimport Layout from '../components/layouts/default'\nimport Post from '../components/blog-index-item'\nimport blogposts from '../posts/index'\nimport { siteMeta } from '../blog.config'\n\nconst Blog = ({ router, page = 1 }) => {\n  const paginator = new pagination.SearchPaginator({\n    prelink: '/',\n    current: page,\n    rowsPerPage: siteMeta.postsPerPage,\n    totalResult: blogposts.length\n  })\n\n  const {\n    previous,\n    range,\n    next,\n    fromResult,\n    toResult\n  } = paginator.getPaginationData()\n  const results = _range(fromResult - 1, toResult)\n\n  return (\n    <Layout pageTitle='Blog' path={router.pathname}>\n      <header>\n        <h1>Blog</h1>\n      </header>\n\n      {blogposts\n        .filter((_post, index) => results.indexOf(index) > -1)\n        .map((post, index) => (\n          <Post\n            key={index}\n            title={post.title}\n            summary={post.summary}\n            date={post.publishedAt}\n            path={post.path}\n          />\n        ))}\n\n      <ul>\n        {previous && (\n          <li>\n            <Link href={`/blog?page=${previous}`} as={`/blog/${previous}`}>\n              <a>Previous</a>\n            </Link>\n          </li>\n        )}\n        {range.map((page, index) => (\n          <li key={index}>\n            <Link key={index} href={`/blog?page=${page}`} as={`/blog/${page}`}>\n              <a>{page}</a>\n            </Link>\n          </li>\n        ))}\n        {next && (\n          <li>\n            <Link href={`/blog?page=${next}`} as={`/blog/${next}`}>\n              <a>Next</a>\n            </Link>\n          </li>\n        )}\n      </ul>\n      <style jsx>{`\n        header {\n          margin-bottom: 3em;\n        }\n      `}</style>\n    </Layout>\n  )\n}\n\nBlog.getInitialProps = async ({ query }) => {\n  return query ? { page: query.page } : {}\n}\n\nexport default withRouter(Blog)\n"]},"metadata":{},"sourceType":"module"}